version: 2

models:
  - name: daily_sales_trends
    description: "Aggregates daily total and running revenue per store to analyze sales trends over time."
    columns:
      - name: store_id
        description: "Unique identifier for each store."
        tests:
          - not_null
      - name: sale_date
        description: "Date of the sales transaction."
        tests:
          - not_null
      - name: daily_revenue
        description: "Total revenue generated by the store on that date."
      - name: running_total_revenue
        description: "Cumulative revenue of the store up to the given date."

  - name: revenue_by_sales_category
    description: "Summarizes total revenue by product and category to analyze which categories drive the most revenue."
    columns:
      - name: product_id
        description: "Unique identifier for each product."
        tests:
          - not_null
      - name: category
        description: "Product category (e.g., Electronics, Apparel)."
      - name: revenue
        description: "Total revenue for the given product and category."

  - name: revenue_by_state
    description: "Aggregates total sales revenue and quantity per store to analyze state-level performance."
    columns:
      - name: store_id
        description: "Unique identifier for each store."
        tests:
          - not_null
      - name: total_revenue
        description: "Sum of all sales revenue for the store."
      - name: total_quantity
        description: "Total number of items sold by the store."

  - name: top_5_products
    description: "Identifies the top 5 highest-grossing products by total revenue."
    columns:
      - name: product_id
        description: "Unique identifier for each product."
        tests:
          - not_null
      - name: revenue
        description: "Total revenue generated by the product."
      - name: revenue_rank
        description: "Rank of the product based on total revenue (1 = highest)."